<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cruise Itinerary - Gagangiri Travels</title>

  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@300;400&display=swap" rel="stylesheet">

  <style>
    :root {
      --primary-color: #003366;
      --secondary-color: #2ca58d;
      --accent-color: #f4a261;
      --light-bg: #f8f9fa;
    }

    body {
      font-family: 'Roboto', sans-serif;
      background-color: var(--light-bg);
    }

    h1, h2, h3, .navbar-brand {
      font-family: 'Playfair Display', serif;
    }

    /* Header / Hero */
    #itinerary-header {
      padding: 8rem 0;
      color: white;
      position: relative;
      background-size: cover;
      background-position: center;
    }

    #itinerary-header::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.25);
    }

    #itinerary-header .container {
      position: relative;
      z-index: 2;
    }

    /* Navbar */
    .custom-navbar {
      background-color: var(--primary-color);
      padding: 0.75rem 1rem;
    }

    .custom-navbar .navbar-brand {
      color: #fff;
      font-weight: 700;
      font-size: 1.5rem;
      text-transform: uppercase;
    }

    .custom-navbar .btn-back {
      background-color: #ffa500;
      color: white;
      border: none;
      font-weight: 600;
      font-size: 0.9rem;
      transition: 0.3s;
    }

    .custom-navbar .btn-back:hover {
      background-color: #ffcc33;
      color: #000;
    }

    /* Tabs */
    .nav-tabs .nav-link {
      color: #555;
      border: none;
      font-weight: 500;
    }

    .nav-tabs .nav-link.active {
      color: var(--secondary-color);
      border-bottom: 3px solid var(--secondary-color);
    }

    /* Timeline */
    .timeline-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 20px;
      height: 100%;
      width: 4px;
      background-color: var(--secondary-color);
    }

    .timeline-item {
      padding-left: 50px;
      position: relative;
      margin-bottom: 30px;
    }

    .timeline-item::after {
      content: '';
      position: absolute;
      width: 25px;
      height: 25px;
      left: 8px;
      background-color: white;
      border: 4px solid var(--accent-color);
      top: 5px;
      border-radius: 50%;
      z-index: 1;
    }

    /* Floating WhatsApp Button */
    .whatsapp-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #25D366;
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      transition: transform 0.3s;
      z-index: 1000;
      text-decoration: none;
    }

    .whatsapp-btn:hover {
      transform: scale(1.1);
      color: white;
    }
  </style>
</head>

<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark custom-navbar sticky-top">
    <div class="container d-flex align-items-center justify-content-between">
      <a class="navbar-brand" href="index.html">Gagangiri Travels</a>
      <button class="btn btn-back" onclick="history.back()">
        <i class="bi bi-arrow-left"></i> Back
      </button>
    </div>
  </nav>

  <!-- Page Content -->
  <div id="page-content">
    <div class="container text-center p-5">
      <h2>Loading cruise details...</h2>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer text-white" style="background: linear-gradient(145deg, #1e3c72, #2a5298);">
    <div class="container py-3">
      <div class="row text-start">
        <div class="col-md-3 mb-3">
          <h5 class="fw-bold">üåç Gagangiri Travels</h5>
          <p class="small mb-0">For Everything In Travel Affairs. We provide International, Domestic & Spiritual tour packages with best prices and services.</p>
        </div>

        <div class="col-md-3 mb-3">
          <h6 class="fw-bold">Quick Links</h6>
          <ul class="list-unstyled small mb-0">
            <li><a href="index.html" class="text-white text-decoration-none">Home</a></li>
            <li><a href="international.html" class="text-white text-decoration-none">International</a></li>
            <li><a href="domestic.html" class="text-white text-decoration-none">Domestic</a></li>
            <li><a href="spiritual.html" class="text-white text-decoration-none">Spiritual Tours</a></li>
            <li><a href="visa.html" class="text-white text-decoration-none">Visa Expert</a></li>
          </ul>
        </div>

        <div class="col-md-3 mb-3 text-start">
          <h6 class="fw-bold mb-2">Our Team</h6>
          <div class="d-flex align-items-center mb-2 gap-2">
            <img src="images/Saroj.jpg" alt="Founder" class="rounded-circle" style="width:50px; height:50px; object-fit:cover;">
            <div>
              <p class="mb-0 small fw-bold">Mrs. Saroj Vithalani</p>
              <small class="text-light">Founder & CEO</small>
            </div>
          </div>
          <p class="mb-0 small fw-bold">Mr. Anand Iyer - Manager & Visa Expert</p>
          <p class="mb-0 small fw-bold">Mrs. Kajal Telinge - Accountant</p> 
          <p class="mb-0 small fw-bold">Mr. Pradeep Kanojia - Sales Executive</p>         
        </div>

        <div class="col-md-3 mb-3">
          <h6 class="fw-bold">Contact Us</h6>
          <p class="small mb-1">Khopoli, Maharashtra, India</p>
          <p class="small mb-1">+91 9370262361</p>
          <p class="small mb-1">+91 9665811088</p>
          <p class="small mb-0">gagangiritravels@gmail.com</p>
        </div>
      </div>

      <hr class="border-light mt-3 mb-2">
      <p class="small mb-0 text-center">&copy; 2025 Gagangiri Travels. All Rights Reserved. | Designed by <span class="text-warning">Pradeep Kanojia</span></p>
    </div>
  </footer>

  <!-- Floating WhatsApp -->
  <a href="#" id="whatsapp-link" class="whatsapp-btn" target="_blank">
    <i class="bi bi-whatsapp"></i>
  </a>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    async function loadCruiseDetails() {
      const pageContent = document.getElementById('page-content');
      const whatsappLink = document.getElementById('whatsapp-link');
      const cruiseId = new URLSearchParams(window.location.search).get('id');

      try {
        const res = await fetch('http://localhost:5000/cruisesData');
        const cruises = await res.json();
        const cruise = cruises.find(c => c.id == cruiseId);

        if (!cruise) {
          pageContent.innerHTML = `
            <div class="container text-center p-5">
              <h2>Sorry, Cruise Not Found</h2>
              <p>The cruise you‚Äôre looking for doesn‚Äôt exist.
              <a href="index.html" class="text-primary fw-bold">Return to Home</a>.</p>
            </div>`;
          return;
        }

        document.title = `${cruise.title} - Gagangiri Travels`;

        const headerHTML = `
          <header id="itinerary-header" style="background-image: url('${cruise.image}')">
            <div class="container text-center">
              <h1 class="display-4 fw-bold">${cruise.title}</h1>
              <p class="lead">${cruise.cruiseLine} | ${cruise.ship}</p>
            </div>
          </header>`;

        const timelineHTML = cruise.itinerary.map(day => `
          <div class="timeline-item">
            <div class="bg-white p-3 rounded shadow-sm">
              <h5 class="mb-1">${day.port} <span class="badge bg-secondary">Day ${day.day}</span></h5>
              <div class="text-muted fst-italic">${day.times}</div>
              <p class="mt-2 mb-0">${day.details}</p>
            </div>
          </div>`).join('');

        const galleryHTML = cruise.shipDetails.gallery.map(img => `
          <div class="col-md-4 mb-3">
            <img src="${img}" class="img-fluid rounded shadow-sm">
          </div>`).join('');

        const amenitiesHTML = cruise.shipDetails.amenities.map(a => `
          <li class="list-group-item"><i class="bi bi-check-circle-fill text-success me-2"></i>${a}</li>`).join('');

        const includedHTML = cruise.whatsIncluded.map(i => `
          <li class="list-group-item"><i class="bi bi-patch-check-fill text-info me-2"></i>${i}</li>`).join('');

        const knowHTML = cruise.knowBeforeYouGo.map(k => `
          <li class="list-group-item"><i class="bi bi-info-circle-fill text-warning me-2"></i>${k}</li>`).join('');

        pageContent.innerHTML = `
          ${headerHTML}
          <main class="container py-5">
            <div class="row g-5">
              <div class="col-lg-8">
                <ul class="nav nav-tabs mb-4">
                  <li class="nav-item"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#timeline">Itinerary</button></li>
                  <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#ship">About the Ship</button></li>
                  <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#included">What's Included</button></li>
                  <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#know">Good to Know</button></li>
                </ul>

                <div class="tab-content">
                  <div class="tab-pane fade show active" id="timeline">
                    <div class="position-relative">${timelineHTML}</div>
                  </div>
                  <div class="tab-pane fade" id="ship">
                    <h4>Ship Gallery</h4>
                    <div class="row">${galleryHTML}</div>
                    <h4 class="mt-4">Key Amenities</h4>
                    <ul class="list-group">${amenitiesHTML}</ul>
                  </div>
                  <div class="tab-pane fade" id="included">
                    <ul class="list-group">${includedHTML}</ul>
                  </div>
                  <div class="tab-pane fade" id="know">
                    <ul class="list-group">${knowHTML}</ul>
                  </div>
                </div>
              </div>

              <div class="col-lg-4">
                <div class="card shadow-sm">
                  <div class="card-body">
                    <h3 class="card-title">Reserve Your Spot</h3>
                    <hr>
                    <p class="fs-2 fw-bold text-primary">
                      Get More Details and Price ‚Çπ${cruise.price}
                    </p>
                    <ul class="list-unstyled text-muted">
                      <li><i class="bi bi-clock me-2"></i> ${cruise.duration} Nights</li>
                      <li><i class="bi bi-calendar4-event me-2"></i>
                        ${cruise.departureDate ? new Date(cruise.departureDate).toDateString() : 'Starting Soon'}
                      </li>
                      <li><i class="bi bi-pin-map-fill me-2"></i> Departs from ${cruise.departsFrom}</li>
                    </ul>

                    <a href="https://wa.me/919370262361?text=Hello%2C%20I%20want%20a%20quote%20for%20${encodeURIComponent(cruise.title)}"
                       target="_blank"
                       class="btn btn-lg w-100 mt-3"
                       style="background-color:#FFA500; color:white;">
                      <i class="bi bi-whatsapp me-2"></i> Request a Quote
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </main>`;

        // WhatsApp dynamic link
        const message = `Hi! I'm interested in the ${cruise.title} cruise (ID: ${cruise.id}). Can I get more information?`;
        whatsappLink.href = `https://wa.me/919370262361?text=${encodeURIComponent(message)}`;
      } catch (err) {
        console.error(err);
        pageContent.innerHTML = `<div class="text-center p-5 text-danger"><h3>Failed to load cruise details. Please try again later.</h3></div>`;
      }
    }

    document.addEventListener('DOMContentLoaded', loadCruiseDetails);
  </script>
</body>
</html>
